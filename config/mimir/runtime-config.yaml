# Mimir Runtime Configuration - Per-Tenant Configuration
# 공식 문서: https://grafana.com/docs/mimir/latest/configure/about-runtime-configuration/

overrides:
  "caro-backend-prod":
    ingestion_rate: 10000
    ingestion_burst_size: 200000

    max_global_series_per_user: 50000
    max_global_series_per_metric: 0
    max_global_exemplars_per_user: 10000

    max_label_names_per_series: 30
    max_label_name_length: 1024
    max_label_value_length: 2048

    max_query_parallelism: 8
    max_total_query_length: 15d
    max_partial_query_length: 7d
    max_query_lookback: 7d

    query_sharding_total_shards: 16

    compactor_blocks_retention_period: 15d

    out_of_order_time_window: 30m

    native_histograms_ingestion_enabled: true

    ruler_max_rules_per_rule_group: 20
    ruler_max_rule_groups_per_tenant: 100

  "caro-backend-staging":
    ingestion_rate: 5000
    ingestion_burst_size: 10000

    max_global_series_per_user: 20000
    max_global_series_per_metric: 0
    max_global_exemplars_per_user: 10000

    max_label_names_per_series: 20
    max_label_name_length: 1024
    max_label_value_length: 2048

    max_query_parallelism: 8
    max_total_query_length: 7d
    max_partial_query_length: 3d
    max_query_lookback: 3d

    query_sharding_total_shards: 8

    compactor_blocks_retention_period: 7d

    out_of_order_time_window: 30m
    native_histograms_ingestion_enabled: true

    ruler_max_rules_per_rule_group: 10
    ruler_max_rule_groups_per_tenant: 50
